<!DOCTYPE html>
<!--
Finish this program by filling in JavaScript that checks if the user’s answer to 
the addition question is correct, and then display “Correct” or “Incorrect” on the 
web page by changing the innerHTML of the <h1> element.

    - DO WE CHECK FOR VALID INPUT?

Sam Scott, McMaster University, 2025
-->
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>addition</title>

    <style>
        .invalid_input {
            background-color: red;
            padding: 20px;
            border: 5px solid black;
        }
    </style>

    <script type="text/javascript">
        function addition() {
            let op1 = Math.floor(Math.random() * 200 - 100);
            let op2 = Math.floor(Math.random() * 200 - 100);
            let is_valid = true, is_neg;

            let ans = op1 + op2; 
            let user_ans = prompt("What is " + op1 + " + " + op2 + "?");

            /*
            For a number to be valid: 
            - can be either pos/neg integer 
                - neg iff first char is -
            - valid if only one period 
                - split into an array then check length
                - also check if these values, when converted to int are === 'number'
            */

            if (isNaN(+user_ans)) {
                is_valid = false; 
            }

            let e = document.querySelector("h1");

            if (is_valid === false) {
                e.innerHTML = ""; 
                e.classList.add("invalid_input");
            }
            else if (ans === parseFloat(user_ans))
            {
                e.innerHTML = "Correct";
                e.style["background-color"] = "green"; 
                e.classList.remove("invalid_input");
            }
            else 
            {
                e.innerHTML = "Incorrect";
                e.style["background-color"] = "red"; 
                e.classList.remove("invalid_input");
            }

        }
    </script>
</head>

<body>
    <p>Run addition() from the console to get going.</p>
    <h1 id="result"></h1>
</body>

</html>
